<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=" Per Hillo maler i alle størrelser! Om du ønsker en stregtegning, et fantastisk kunsttryk eller et stort maleri Per Hillo kan klare det hele.">
    <meta name="keywords" content="per hillo, kunstner, nærvær, billedkunst, galleri, atelier, malerier, art, maler, kærlighed, litografi, love, værker">
    <meta name="author" content="">
    <meta name="robots" content="noindex">
    <title>Per Hillo - Smukke kunstværker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Merriweather&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
     <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <style>

    </style>
</head>

<body>
     <div class="fade-in"> 
      <nav id="navbarwhite" class="scroll">
        <a href="index.html" id="logoa"><div id="logo2">
            </div></a>
        <ul class="pcmenu">
            <li ><a href="index.html" >Forside</a></li>
            <li><a href="products.html" class="active">Værker</a></li>
            <li><a href="om.html">Om</a></li>
            <li ><a href="projekter.html">Projekter</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
        </ul>



         <div class="burgermenu">
            <div id="menuknap" class="">
                <div class="bar1 black"></div>
                <div class="bar2 black"></div>
                <div class="bar3 black"></div>
            </div>

           <div class="centre_menu">
            <!--Knappen som bringer burgermenuen frem.-->
            <ul id="topmenu" class="hidden">
                <!--Menuen som dukker op med navigationslisten.-->
                
                <li><a href="index.html" class="link">Forside</a></li>          
                <li><a href="products.html" class="link">Værker</a></li>
                <li><a href="om.html" class="link">Om </a></li>
                <li><a href="projekter.html" class="link">Projekter</a></li>
                <li><a href="kontakt.html" class="link">Kontakt</a></li>
                

            </ul>
            </div>
        </div>
    </nav>


    <div id="popup">
        <div id="luk">
            <button>X</button>

        </div>

        <div id="indhold"></div>
    </div>


    <h1 id="producth1">Malerier på lærred</h1>

<nav id="navigationsmenu">
    <div class="menu">
        <button class="filter canvas valgt" data-kategori="malerier">Malerier på lærred</button>
        <button class="filter papir" data-kategori="malerier på papir">Malerier på papir</button>
        <button class="filter kunsttryk" data-kategori="kunst tryk">Kunsttryk</button>
        <button class="filter tegning" data-kategori="streg tegning">Stregtegninger</button>
        <button class="filter plakater" data-kategori="plakater">Plakater</button>
    </div>
    
</nav>
    <main class="produkter"></main>

    <template>
                
                <div class="produkt"><img src="" alt="værk af Per Hillo" class="item"><div class="produkthover"><h2 class="title"></h2>
                   <p class="size"></p>
                    <p class="price"></p></div></div>
                
    </template>
    
    <a href="#producth1"><div id="toparrow">▲</div></a>
    
    </div>
    <footer class="fade-in-slow">

        <div class="footer1">
            <h2>Smuk og levende kunst</h2>
            <h5>Leder du efter dit næste kunstværk til hjemmet?</h5>

            <p>Kom forbi galleriet eller ateliet til et kig. Det er også muligt at bestille et maleri efter ens egne ønsker.</p>
            <div class="social">
                <a href="https://www.facebook.com/per.hillo.art/"  target="_blank"><img src="SVG/facebook-icon.svg" alt="Tilgå Per Hillos Facebook"></a>
                <a href="https://www.instagram.com/perhillo/?hl=da"  target="_blank" ><img src="SVG/instagram-icon.svg" alt="Tilgå Per Hillos Instagram"></a>
            </div>

        </div>
        <div class="social2">
            <a href="https://www.facebook.com/per.hillo.art/"  target="_blank"><img src="SVG/facebook-icon.svg" alt="Tilgå Per Hillos Facebook"></a>
            <a href="https://www.instagram.com/perhillo/?hl=da"  target="_blank"><img src="SVG/instagram-icon.svg" alt="Tilgå Per Hillos Instagram"></a>
        </div>
        <div class="footer2">
            <div class="kontakt_os">
                <h3>Kontakt os</h3>
                <p class="borderbottom">Tøv ikke med at kontakte os, hvis du har spørgsmål eller ønsker at høre mere.</p>
            </div>

            <div class="grid2">
                <div class="lokationer">
                    <h6>Per Hillo</h6>
                    <h5>Vores lokationer</h5>
                    <a href="kontakt.html">
                        <p>Galleri i Ordrup</p>
                    </a>
                    <a href="kontakt.html">
                        <p>Atelier i Slagelse</p>
                    </a>
                </div>
                <div class="kontakt_oplysninger">
                    <h6>Kontaktoplysninger</h6>
                    <p>CVR-Nr: 28653344</p>
                    <div class="kontakt_per">
                        <p><a href="tel:+4523248623">Galleri: +45 2324 8623</a></p>
                        <p><a href="tel:+4551508275">Atelier: +45 5150 8275</a></p>
                        <p><a href="mailto:per@perhillo.dk">Email: per@perhillo.dk</a></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

   <script>
 
        let filter = "malerier"; /* Her starter filteret på "malerier" som er Malerier på lærred, dvs. at når man trykker på værker er dette start kategorien fremfor eksempelvis alle værker. */
        let produkter = []; 
        document.addEventListener("DOMContentLoaded", start); /*Her defineres hvor JSON hentes fra*/

        function start() {

            async function getJson() {
                console.log("produkt json hentes ind");
                let url = "http://www.simonchristiansen.dk/kea/2-semester/2-sem-eksamen-F2019/wordpress/wp-json/wp/v2/produkter?per_page=100"; /*Her defineres hvor JSON hentes fra*/
                let jsonData = await fetch(url);
                produkter = await jsonData.json();
                visProdukter(); /* Funktionen kaldes, denne funktion gør at produkterne bliver vist på siden */
                document.querySelector("#menuknap").addEventListener("click", toggletopmenu);
            
            }

            function visProdukter() { 
                let dest = document.querySelector(".produkter") /* Dette er placeringen af de opslag som bliver hentet ned fra Wordpress */
                let temp = document.querySelector("template");

                dest.innerHTML = ""; /* Denne linje sikrer sig, at filteringen korrekt fungerer. Herved "genstarter" den og fjerner alle produkter da ellers ville den blot tilføje nye produkter og ikke erstatte de gamle.  */
                produkter.forEach(produkt => {

                    if (filter == "all" || filter == produkt.kategori) { /* Her filtrer den ud fra produkternes angivet kategori, dette er fastslået i JSON. */
                        let klon = temp.cloneNode(true).content;
                        klon.querySelector(".item").src = produkt.picture.guid; /* Dette er et element i HTML ("item) som får billedes kilden fra JSON, hvoraf vi har angivet det i Wordpress via plugin custom pods */
                        klon.querySelector(".title").textContent = produkt.title.rendered;
                        klon.querySelector(".price").textContent = produkt.price;
                        klon.querySelector(".size").textContent = produkt.size;
                        dest.appendChild(klon);
                        dest.lastElementChild.addEventListener("click", () => {
                    visSingle(produkt); /* Her kalder vi funktionen VisSingle således at vi kan vise produkterne i singleview når de klikkes på. */
                    });
                    }
                    
                })
                document.querySelectorAll(".filter").forEach(elm => {
                    elm.addEventListener("click", filtrering);
                })
            } /* VisProdukter definerer hvilke elementer i HTML'en som skal bestå af data'en fra JSON, dette bliver 'klonet' ind således at hvert nyt indlæg fra WordPress bliver lagt ind på hjemmesiden. */
            
            function visSingle(produkt){ 
          console.log("vis single virker");
            document.querySelector("#indhold").innerHTML = `<div class="ramme"><img src=${produkt.picture.guid} alt=${produkt.title.rendered}><h2>${produkt.title.rendered}</h2> <div class="rammecentrer"><p>${produkt.product_text}</p> <br> <p>Størrelse: ${produkt.size}</p> <p>Pris: ${produkt.price}</p></div></div>`;  /* Dette er hvad der skal fremgå i singleview, dette er altså hvad der skal erstattes i HTML. */
                        document.querySelector("#popup").style.display = "block"; /* "#popup" skal fjernes */
                        document.querySelector("#popup #luk").addEventListener("click", close);
                    } /*Denne funktion angiver hvad der sker i singleview samt gøre det muligt at lukke singleview ned igen via #luk knappen*/
                    function close() {
                        document.querySelector("#popup").style.display = "none";
                    }

            function filtrering() { 

                filter = this.getAttribute("data-kategori");

                document.querySelector("h1").textContent = this.textContent;
                document.querySelectorAll(".filter").forEach(elm => {
                    elm.classList.remove("valgt");
                })
                this.classList.add("valgt");
                visProdukter();
            } /*Funktionen filtrering bestemmes ud fra data attributen tidligere angivet i HTML, her sortere den ud fra de angivet kategoriet fra JSON */

            getJson(); /*Her kaldes funktionen således, at den bliver startet efterfølgende af hjemmesiden af blevet indlæst i browseren */
        }

        
   

        function toggletopmenu() {
            console.log("toggle topmenu");
          document.querySelector("#topmenu").classList.toggle("hidden");
            let element = document.getElementById("menuknap");
            element.classList.toggle("change");
        } /*Her toogles class "hidden" som skjuler navigationsbaren på mobilen. 
            Herudover skifter bars class til "change" som gør, at de skifter position til et kryds.*/



    
      
        
    </script>
   
</body>

</html>
